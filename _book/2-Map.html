
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>map Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2-Filter.html" />
    
    
    <link rel="prev" href="2-Structs-Lists.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Notes</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="0-Expressions-Calls.html">
            
                <a href="0-Expressions-Calls.html">
            
                    
                        <b>2.1.</b>
                    
                    Expressions and Function Calls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="0-Function-Composition.html">
            
                <a href="0-Function-Composition.html">
            
                    
                        <b>2.2.</b>
                    
                    Function Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="0-Types.html">
            
                <a href="0-Types.html">
            
                    
                        <b>2.3.</b>
                    
                    Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="0-Signatures.html">
            
                <a href="0-Signatures.html">
            
                    
                        <b>2.4.</b>
                    
                    Function Signatures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="0-Exercises.html">
            
                <a href="0-Exercises.html">
            
                    
                        <b>2.5.</b>
                    
                    Exercises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="1-Lambda.html">
            
                <a href="1-Lambda.html">
            
                    
                        <b>2.6.</b>
                    
                    Defining Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="2-Structs-Lists.html">
            
                <a href="2-Structs-Lists.html">
            
                    
                        <b>2.7.</b>
                    
                    Structs and Lists
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.8" data-path="2-Map.html">
            
                <a href="2-Map.html">
            
                    
                        <b>2.8.</b>
                    
                    map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="2-Filter.html">
            
                <a href="2-Filter.html">
            
                    
                        <b>2.9.</b>
                    
                    filter
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Review Sheets</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="3-Quiz-1-Review.html">
            
                <a href="3-Quiz-1-Review.html">
            
                    
                        <b>3.1.</b>
                    
                    Quiz 1 Review
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >map</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="map"><code>map</code></h1><p>Now that we&apos;ve seen lists, it&apos;s useful to be able to perform operations on entire lists of data, rather than one thing at a time.</p><p>The <code>map</code> function allows us to <strong>transform a list into another list</strong>. It takes two inputs:</p><ul><li>A <strong>function</strong> with signature <code>X -&gt; Y</code>, i.e. a function that takes an input of type <code>X</code> and returns an input of type <code>Y</code>, and
</li>
<li>A <strong>list</strong> of elements of type <code>X</code>
</li></ul>
<p>and &quot;maps&quot; the function over each item in the input list, returning a <strong>list</strong> of elements of type <code>Y</code>.</p><pre><code class="lang-scheme">map : <span class="token punctuation">(</span><span class="token function">X</span> -&gt; Y<span class="token punctuation">)</span>, <span class="token punctuation">(</span><span class="token function">listof</span> X<span class="token punctuation">)</span> -&gt; <span class="token punctuation">(</span><span class="token function">listof</span> Y<span class="token punctuation">)</span></code></pre>
<h2 id="example">Example</h2><p>Suppose we have our good old function, <code>doubler</code>, which takes a number and multiplies it by two.</p><pre><code class="lang-scheme"><span class="token comment" spellcheck="true">; doubler : number -&gt; number</span>
<span class="token comment" spellcheck="true">; takes a number and doubles it</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> doubler
  <span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span> <span class="token number">2</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>Now imagine we have the following list of numbers:</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token number">1</span> <span class="token number">3</span> <span class="token number">-2</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>We want to take this list, double each element, and return the newly-doubled list. We <em>could</em> go through the list one element at a time, applying <code>doubler</code> to each item and adding the result to a new list:</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token punctuation">(</span><span class="token function">doubler</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token function">doubler</span> <span class="token number">3</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token function">doubler</span> <span class="token number">-2</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token function">doubler</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>&#x2026;but that&#x2019;s a lot of work, and we&apos;d have to write this out manually every time we&apos;re given a new list.</p><p>Enter <code>map</code>.</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token function">map</span> doubler <span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token number">1</span> <span class="token number">3</span> <span class="token number">-2</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">; (list 2 6 -4 0)</span></code></pre>
<p>Let&apos;s break down what happens under the hood:</p><table>
<thead>
<tr><th>Item</th>
<th>Current Step</th>
<th>Result So Far</th>
</tr></thead><tbody>
<tr><td><code>1</code></td>
<td><code>(doubler 1) = 2</code></td>
<td><code>(list 2)</code></td>
</tr><tr><td><code>3</code></td>
<td><code>(doubler 3) = 6</code></td>
<td><code>(list 2 6)</code></td>
</tr><tr><td><code>-2</code></td>
<td><code>(doubler -2) = -4</code></td>
<td><code>(list 2 6 -4)</code></td>
</tr><tr><td><code>0</code></td>
<td><code>(doubler 0) = 0</code></td>
<td><code>(list 2 6 -4 0)</code></td>
</tr></tbody></table>

<p>So we can see that calling <code>(map f list-of-things)</code> returns the result of transforming <code>list-of-things</code> by applying <code>f</code> to each element of the list.</p><div class="flow-chart"><svg height="99" version="1.1" width="231.796875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; top: -0.625px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Rapha&#xC3;&#xAB;l 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/><marker id="raphael-marker-endblock33-obj110" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker><marker id="raphael-marker-endblock33-obj111" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></marker></defs><rect x="0" y="0" width="28.3125" height="93" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="st" transform="matrix(1,0,0,1,10.7344,4)"/><text x="10" y="46.5" text-anchor="start" font-family="sans-serif" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="stt" class="flowchartt" font-weight="normal" transform="matrix(1,0,0,1,10.7344,4)"><tspan dy="-21.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">a</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">b</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">c</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">d</tspan></text><rect x="0" y="0" width="40.15625" height="39" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="op1" transform="matrix(1,0,0,1,93.8594,31)"/><text x="10" y="19.5" text-anchor="start" font-family="sans-serif" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="op1t" class="flowchartt" font-weight="normal" transform="matrix(1,0,0,1,93.8594,31)"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">f(x)</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"/></text><rect x="0" y="0" width="41.78125" height="93" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="2" class="flowchart" id="e" transform="matrix(1,0,0,1,188.0156,4)"/><text x="10" y="46.5" text-anchor="start" font-family="sans-serif" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="et" class="flowchartt" font-weight="normal" transform="matrix(1,0,0,1,188.0156,4)"><tspan dy="-21.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">f(a)</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">f(b)</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">f(c)</tspan><tspan dy="18" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">f(d)</tspan></text><path fill="none" stroke="#000000" d="M39.046875,50.5C39.046875,50.5,79.38941414654255,50.5,90.85394431416353,50.5" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj110)" font-family="sans-serif" font-weight="normal" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;"/><path fill="none" stroke="#000000" d="M134.015625,50.5C134.015625,50.5,173.66972494125366,50.5,185.01606408460066,50.5" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj111)" font-family="sans-serif" font-weight="normal" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;"/></svg></div>



<blockquote><p>Since <code>map</code> is calling the specified <code>f</code> on each item of the specified list, it&apos;s important that <strong>the input type of <code>f</code> matches the type of <code>list-of-things</code></strong>. Otherwise, we wouldn&apos;t be able to evaluate <code>(f list-item)</code>.</p></blockquote><h2 id="example-with-structs">Example with structs</h2><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token keyword">define</span>-struct person <span class="token punctuation">(</span><span class="token function">name</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">define</span> CONTACTS <span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token punctuation">(</span><span class="token function">make-person</span> <span class="token string">&quot;Sarah&quot;</span> <span class="token number">20</span><span class="token punctuation">)</span>
                       <span class="token punctuation">(</span><span class="token function">make-person</span> <span class="token string">&quot;Ian&quot;</span> <span class="token number">99</span><span class="token punctuation">)</span>
                       <span class="token punctuation">(</span><span class="token function">make-person</span> <span class="token string">&quot;Bob&quot;</span> <span class="token number">14</span><span class="token punctuation">)</span>
                       <span class="token punctuation">(</span><span class="token function">make-person</span> <span class="token string">&quot;Joe&quot;</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">; age-one-year : person -&gt; person</span>
<span class="token comment" spellcheck="true">; returns a new person one year older</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> age-one-year
  <span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token function">make-person</span> <span class="token punctuation">(</span><span class="token function">person-name</span> p<span class="token punctuation">)</span>
                 <span class="token punctuation">(</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">person-age</span> p<span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token function">map</span> age-one-year CONTACTS<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">; (list (make-person &quot;Sarah&quot; 21)</span>
<span class="token comment" spellcheck="true">;       (make-person &quot;Ian&quot; 100)</span>
<span class="token comment" spellcheck="true">;       (make-person &quot;Bob&quot; 15)</span>
<span class="token comment" spellcheck="true">;       (make-person &quot;Joe&quot; 16))</span></code></pre>
<h2 id="example-with-strings">Example with strings</h2><p>Consider the following helper function, <code>append-obama</code>, which appends &quot;obama&quot; to the end of an input string (very useful for thanking Obama):</p><pre><code class="lang-scheme"><span class="token comment" spellcheck="true">; append-obama : string -&gt; string</span>
<span class="token comment" spellcheck="true">; appends &quot;obama&quot; to the end of a string</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token builtin">append</span>-obama str<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token function">string-append</span> str <span class="token string">&quot;obama&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>Given this helper, suppose we want to produce a list of thank-yous to Obama. We can easily accomplish this using <code>map</code>, like so:</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token function">map</span> append-obama <span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token string">&quot;thanks&quot;</span> <span class="token string">&quot;thank you&quot;</span> <span class="token string">&quot;thx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>which returns</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token string">&quot;thanksobama&quot;</span> <span class="token string">&quot;thank youobama&quot;</span> <span class="token string">&quot;thxobama&quot;</span><span class="token punctuation">)</span></code></pre>
<p>which is the same thing as</p><pre><code class="lang-scheme"><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token punctuation">(</span><span class="token builtin">append</span>-obama <span class="token string">&quot;thanksobama&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token builtin">append</span>-obama <span class="token string">&quot;thank youobama&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span><span class="token builtin">append</span>-obama <span class="token string">&quot;thxobama&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="2-Structs-Lists.html" class="navigation navigation-prev " aria-label="Previous page: Structs and Lists">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2-Filter.html" class="navigation navigation-next " aria-label="Next page: filter">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"map","level":"2.8","depth":1,"next":{"title":"filter","level":"2.9","depth":1,"path":"2-Filter.md","ref":"2-Filter.md","articles":[]},"previous":{"title":"Structs and Lists","level":"2.7","depth":1,"path":"2-Structs-Lists.md","ref":"2-Structs-Lists.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight","katex"],"pluginsConfig":{"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"prism":{"css":["prismjs/themes/prism.css"]},"katex":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"2-Map.md","mtime":"2016-10-17T04:09:53.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-10-23T23:15:09.783Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

